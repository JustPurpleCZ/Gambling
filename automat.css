body {
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    margin: 0;
    background-color: rgb(20, 20, 20);
    font-family: Arial, sans-serif;
    overflow: hidden;
    font-family: "Tiny5", sans-serif;
    font-weight: 400;
    font-style: normal;
}

body::before{
    content: "";
    position: absolute;
    top: 0; left: 0;
    width: 101%; height: 101%;
    background-image: url(main/automat/bg-purple.png);
    filter: blur(2px);
    background-size: cover;
    background-position: center;
}

.slot-machine-container {
    position: relative;
    width: 180vh;
    height: 95vh;  /* Changed from 50vh */
    top: 3.8vh;    /* Scaled from 2vh */
    z-index: 5;
}

.slot-machine-image {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: contain;
    z-index: 5;
    pointer-events: none; /* Make sure it doesn't block clicks on reels/lever */
}
.exit{
    position: absolute;
    width: 10vh;
    height: 10vh;
    top: 1vh;
    left: 1vh;
    z-index: 50;
    cursor: pointer;
    transition: 0.2s ease-in-out;
}
.exit:hover{
    transform: scale(1.1);
}
.exit img{
    width: 100%;
    height: 100%;
    object-fit: contain;
}
.vlad{
    position: absolute;
    left: -2vh;
    bottom: -15vh;
    width: 80vh;
    height: 80vh;
    z-index: 10;
    pointer-events: none;
    transform: scaleX(-1);
}
.vlad img{
    width: 100%;
    height: 100%;
    object-fit: contain;
}
.lever {
    position: absolute;
    top: 25.5vh;   /* Scaled from 13.5vh */
    left: 77.9vh;  /* Scaled from 41.5vh */
    width: 18.8vh; /* Scaled from 10vh */
    height: 28.2vh;/* Scaled from 15vh */
    cursor: pointer;
    z-index: 6; /* Above machine, below screen frame if any */
}

.lever img {
    width: 100%;
    height: 100%;
    object-fit: contain;
}

.screen {
    position: absolute;
    top: 25.5vh;
    left: 17.8vh;
    width: 59.2vh;
    height: 48.7vh;
    z-index: 6;
    pointer-events: none;
    
}
.screen img{
    width: 100%;
    height: 100%;
    object-fit: contain;
    z-index: 7;
    position: absolute;
}
.button{
    position: absolute;
    top: 76.5vh;
    left: 41.5vh;
    width: 12vh;
    height: 10vh;
    z-index: 6;
    cursor: pointer;
    transition: 0.1s ease-in-out;
}
.button:active{
    transform: scale(0.9);
}
.button img{
    width: 100%;
    height: 100%;
    object-fit: contain;
}

.credit-display {
    position: absolute;
    top: 4.8vh;
    left: 14.5vh;
    width: 30vh;
    height: 6vh;
    z-index: 8;
    color: rgb(0, 0, 0);
    font-size: 5vh;
    text-align: center;
    line-height: 6vh;
    
    font-weight: bold;
    
}

.reels {
    display: flex;
    justify-content: space-evenly;
    position: absolute;
    top: 27.5vh;  /* Scaled from 14.6vh */
    left: 20.9vh;  /* Scaled from 11.1vh */
    width: 53.4vh;  /* Scaled from 28.3vh */
    height: 41.1vh; /* Scaled from 21.8vh */
    z-index: 6; /* Behind screen frame, above machine body */
    
}

/* Updated .reel-column to be a mask */
.reel-column {
    display: flex;
    flex-direction: column;
    /* justify-content: space-between; -- Removed */
    width: 16.5vh;  /* Scaled from 8.75vh */
    height: 100%;
    overflow: hidden; /* Added: This clips the spinning reel strip */
}

/* Updated .reel-img styles */
.reel-img {
    width: 100%;
    height: 12.8vh; /* Scaled from 6.8vh */
    object-fit: contain;
    flex-shrink: 0; /* Added: Prevents images from shrinking */
}

/* Added styles for the reel strip and animation */
.reel-strip {
    display: flex;
    flex-direction: column;
    /* The smooth stop transition will be added via JS */
}

/* This is the blur-spin animation */
@keyframes spin {
    from {
        transform: translateY(0);
    }
    to {
        /* This moves the strip by the height of the main symbol list (REEL_STRIP_LENGTH * SYMBOL_HEIGHT_VH)
           30 symbols * 12.8vh = 384vh 
        */
        transform: translateY(-384vh);
    }
}

/* This class is added by JS to start the spinning */
.spinning {
    /* Adjust speed by changing the duration (e.g., 0.4s) */
    animation: spin 0.4s linear infinite;
}


/* --- WALLET AND OTHER STYLES (UNCHANGED) --- */
.wallet-screen{
    position: fixed;
    bottom: 0vh;
    left: 0vh;
    width: 40vh;
    height: 20vh;
    z-index: 40;
}
.wscreen{
    width: 100%;
    height: 100%;
    object-fit: contain;
}
.wallet-display{
    position: absolute;
    top: 5.8vh;
    left: 8vh;
    width: 24vh;
    height: 8vh;
    z-index: 8;
    color: rgb(0, 0, 0);
    font-size: 3vh;
    text-align: center;
    line-height: 8vh;
    font-weight: bold;
}
.options-menu {
    position: fixed;
    bottom: 1vh;
    right: 1vh;
    width: 60vh; 
    height: 35vh;
    z-index: 40;
}

.menu-bg {
    width: 100%;
    height: 100%;
    object-fit: contain;
    position: absolute;
}

.menu-text-content {
    position: absolute;
    top: 3.5vh;
    left: 4vh;
    right: 4vh;
    bottom: 15vh;
    color: black;
    font-size: 2.2vh;
    line-height: 1.4;
    text-align: left;
    display: none; /* Hidden by default */
}

.menu-text-content.active {
    display: block; /* Show active content */
}

.option-buttons {
    position: absolute;
    bottom: 3.5vh;
    left: 4vh;
    right: 4vh;
    display: flex;
    justify-content: space-around;
}

.option-button-container {
    position: relative;
    width: 15vh;
    height: 10vh;
    cursor: pointer;
    transition: transform 0.2s;
}
.option-button-container.hideable{
    display: none;
}
.option-button-container:hover {
    transform: scale(1.05);
}

.option-btn {
    width: 100%;
    height: 100%;
    object-fit: contain;
}

.option-text {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    color: black;
    font-size: 2vh;
    font-weight: bold;
    pointer-events: none; /* So click goes to image */
}
.wallet-container {
    position: fixed;
    bottom: -15vh; /* Start hidden */
    left: 50%;
    transform: translateX(-50%);
    width: 60vh;
    height: 30vh;
    z-index: 40;
    transition: bottom 0.5s ease-in-out;
}

.wallet-container.visible {
    bottom: 0vh; /* Slide in */
}

.wallet-image {
    width: 100%;
    height: 100%;
    object-fit: contain;
    position: relative;
    z-index: 41;
}

.wallet-overlay-text {
    position: absolute;
    top: 10vh;
    left: 50%;
    transform: translateX(-50%);
    font-size: 3vh;
    color: rgb(83, 53, 23);
    z-index: 42;
    pointer-events: none;
    font-weight: bold;
}
.wallet-notes {
    position: absolute;
    bottom: 5vh; /* Position notes above the wallet bottom */
    width: 100%;
    height: 15vh;
    z-index: 45;
    display: flex;
    justify-content: center;
    align-items: center;
}

.bill {
    position: absolute;
    width: 20vh;
    height: 10vh;
    object-fit: contain;
    transition: all 0.3s ease-in-out;
    cursor: pointer;
    bottom: 3vh; /* Start slightly tucked */
    z-index: 45;
}

.wallet.has-notes .bill.bill-4 {
    bottom: 15vh;
    z-index: 42;
}
.wallet.has-notes .bill.bill-3 {
    bottom: 12vh;
    z-index: 43;
}
.wallet.has-notes .bill.bill-2 {
    bottom: 9vh;
    z-index: 44;
}
.wallet.has-notes .bill.bill-1 {
    bottom: 6vh;
    z-index: 45;
}
.wallet.has-notes .bill.transferrable.bill-0 {
    bottom: 9vh;
    z-index: 45;
}

.wallet.has-notes .bill.transferrable.bill-1 {
    bottom: 6vh;
    z-index: 46;
}

.bill.unavailable {
    opacity: 0.3;
    pointer-events: none;
}

.bill.transferrable {
    animation: pulse 1s infinite alternate;
}

@keyframes pulse {
    from {
        filter: brightness(1);
        transform: scale(1);
    }
    to {
        filter: brightness(1.2);
        transform: scale(1.05);
    }
}

.bill.transferrable:hover {
    animation: none;
    transform: translateY(-1vh) scale(1.1);
}
.orientation-overlay {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgb(0, 0, 0);
    z-index: 9999;
    justify-content: center;
    align-items: center;
    flex-direction: column;
}

.orientation-overlay img {
    width: 100vw;
    height: auto;
    margin-bottom: 20px;
}

.overlay-text {
    color: white;
    font-size: 24px;
    text-align: center;
}

@media (orientation: portrait) {
    .orientation-overlay {
        display: flex;
    }
    body > div:not(.orientation-overlay) {
        display: none;
    }
}
